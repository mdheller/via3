settings:
  # Sadly YAML doesn't let you redeclare an anchor...
  - &fonts PROXY_STATIC
  - &images MAKE_ABSOLUTE
  - &default MAKE_ABSOLUTE

extensions:
  - &image_ext [png, jpg, jpeg, gif, svg]
  - &font_ext [woff, woff2, ttf, eot]

basic_actions:
  # Don't do anything at all
  - &NONE NONE
  # Convert the URL to be absolute
  - &MAKE_ABSOLUTE MAKE_ABSOLUTE
  # Proxy the content from us, but leave it unchanged
  - &PROXY_STATIC PROXY_STATIC
  # Rewrite the URL so it will go through our HTML rewriting
  - &REWRITE_HTML REWRITE_HTML
  # Rewrite the URL so it will go through our CSS rewriting
  - &REWRITE_CSS REWRITE_CSS
  # Rewrite the URL so it will go through our JS rewriting
  - &REWRITE_JS REWRITE_JS

rules:
  - match: {ext: *font_ext}
    action: *fonts

  - match: {ext: *image_ext}
    action: *images

  - match: {}
    action: *default
